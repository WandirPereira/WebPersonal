{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wandi\\\\Documents\\\\2022-Curso-MERN-AgustinNavarro\\\\webPersonal\\\\client\\\\src\\\\contexts\\\\AuthContext.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, createContext } from \"react\";\nimport { User } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst userControlller = new User();\nexport const AuthContext = /*#__PURE__*/createContext();\nexport function AuthProvider(props) {\n  _s();\n  const {\n    children\n  } = props;\n  const [user, setUser] = useState(null);\n  const [token, setToken] = useState(null);\n  useEffect(() => {\n    //Comprovar que usu치rio est치 logado\n  }, []);\n  const login = async accessToken => {\n    //console.log(\"Login Context\");\n    //console.log(accessToken);\n    try {\n      const response = await userControlller.getMe(accessToken);\n      console.log(response);\n      //console.log(\"TOKEN\", accessToken);\n      delete response.password;\n      setUser(response);\n      setToken(accessToken);\n      //console.log(token);\n      //console.log(accessToken);\n      //console.log(user);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  //console.log(token);\n  //console.log(user);\n  const data = {\n    accessToken: token,\n    user,\n    login\n  };\n  //console.log(data);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: data,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 12\n  }, this);\n}\n_s(AuthProvider, \"cANLe8RtnwDE5y1hInrXoZDdgy8=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["useState","useEffect","createContext","User","userControlller","AuthContext","AuthProvider","props","children","user","setUser","token","setToken","login","accessToken","response","getMe","console","log","password","error","data"],"sources":["C:/Users/wandi/Documents/2022-Curso-MERN-AgustinNavarro/webPersonal/client/src/contexts/AuthContext.js"],"sourcesContent":["import { useState, useEffect, createContext } from \"react\";\r\nimport { User } from \"../api\";\r\n\r\nconst userControlller = new User();\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport function AuthProvider(props){\r\n    const { children } = props;\r\n    const [user, setUser] = useState(null);\r\n    const [token, setToken] = useState(null);\r\n\r\n    useEffect(() => {\r\n      //Comprovar que usu치rio est치 logado\r\n    }, []);\r\n\r\n    const login = async (accessToken) => {\r\n        //console.log(\"Login Context\");\r\n        //console.log(accessToken);\r\n        try {\r\n            const response = await userControlller.getMe(accessToken);\r\n            console.log(response);\r\n            //console.log(\"TOKEN\", accessToken);\r\n            delete response.password;\r\n            setUser(response);\r\n            setToken(accessToken);\r\n            //console.log(token);\r\n            //console.log(accessToken);\r\n            //console.log(user);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n    //console.log(token);\r\n    //console.log(user);\r\n    const data = {\r\n        accessToken: token,\r\n        user,\r\n        login,\r\n    };\r\n    //console.log(data);\r\n    return <AuthContext.Provider value={data}>{ children }</AuthContext.Provider>\r\n    \r\n}\r\n\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,aAAa,QAAQ,OAAO;AAC1D,SAASC,IAAI,QAAQ,QAAQ;AAAC;AAE9B,MAAMC,eAAe,GAAG,IAAID,IAAI,EAAE;AAElC,OAAO,MAAME,WAAW,gBAAGH,aAAa,EAAE;AAE1C,OAAO,SAASI,YAAY,CAACC,KAAK,EAAC;EAAA;EAC/B,MAAM;IAAEC;EAAS,CAAC,GAAGD,KAAK;EAC1B,MAAM,CAACE,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd;EAAA,CACD,EAAE,EAAE,CAAC;EAEN,MAAMY,KAAK,GAAG,MAAOC,WAAW,IAAK;IACjC;IACA;IACA,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMX,eAAe,CAACY,KAAK,CAACF,WAAW,CAAC;MACzDG,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;MACrB;MACA,OAAOA,QAAQ,CAACI,QAAQ;MACxBT,OAAO,CAACK,QAAQ,CAAC;MACjBH,QAAQ,CAACE,WAAW,CAAC;MACrB;MACA;MACA;IACJ,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;IACxB;EACJ,CAAC;EACD;EACA;EACA,MAAMC,IAAI,GAAG;IACTP,WAAW,EAAEH,KAAK;IAClBF,IAAI;IACJI;EACJ,CAAC;EACD;EACA,oBAAO,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAEQ,IAAK;IAAA,UAAGb;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAyB;AAEjF;AAAC,GApCeF,YAAY;AAAA,KAAZA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}